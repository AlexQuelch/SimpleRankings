<!DOCTYPE html>

    {% block content %}
        {% include 'header.html' %}
    {% endblock %}

<style>
    tr:nth-child(even){
        color:white;
        background-color:black;
    }

    tr:nth-child(odd){
        color:black;
        background-color:white;
    }
</style>

<div id="wrapper">
    <div id="ranking_table" class="main_table">
        <table>
            <thead>
                <th style="width: 2em;"></th>
                <th style="min-width: 8em;">Player</th>
                <th>Played</th>
                <th>Won</th>
                <th>Lost</th>
                <th>%</th>
                <th>Rating</th>
            </thead>

            <tbody>
            {% for player in players_by_rank %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ player.name }}</td>
                    {% set match_count = player.wins + player.losses %}
                    <td>{{ match_count }}</td>
                    <td>{{ player.wins }}</td>
                    <td>{{ player.losses }}</td>
                    {% set percent = 0 %}
                    {% if match_count %}
                        {% set percent = ((player.wins / match_count)*100)|round|int %}
                    {% endif %}
                    <td>{{ percent }}</td>
                    <td>{{ player.rating|round|int }}</td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
</div>